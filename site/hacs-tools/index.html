
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../api-reference/">
      
      
        <link rel="next" href="../how-to/authenticate_actor/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>HACS Tools - HACS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hacs-tools-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HACS" class="md-header__button md-logo" aria-label="HACS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HACS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              HACS Tools
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HACS" class="md-nav__button md-logo" aria-label="HACS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HACS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    HACS Tools
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    HACS Tools
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-hacs-tools" class="md-nav__link">
    <span class="md-ellipsis">
      How to use HACS tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-save-and-retrieve-a-patient" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start: Save and retrieve a patient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start: Save and retrieve a patient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-api" class="md-nav__link">
    <span class="md-ellipsis">
      Python API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mcp-api" class="md-nav__link">
    <span class="md-ellipsis">
      MCP API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-workflow-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Core Workflow Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Workflow Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-management-20-tools" class="md-nav__link">
    <span class="md-ellipsis">
      üìä Data Management (20 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-modeling-5-tools" class="md-nav__link">
    <span class="md-ellipsis">
      üèóÔ∏è Resource Modeling (5 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-operations-10-tools" class="md-nav__link">
    <span class="md-ellipsis">
      ü§ñ Agent Operations (10 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-features-optional" class="md-nav__link">
    <span class="md-ellipsis">
      üîç Advanced Features (Optional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling and Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hacsresult-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      HACSResult Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asyncsync-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Async/Sync Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Requirements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discovery-and-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery and Registry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery and Registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-all-available-tools" class="md-nav__link">
    <span class="md-ellipsis">
      List All Available Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-tools-by-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Search Tools by Domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-categories-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Categories Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/authenticate_actor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authenticate an Actor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/connect_postgres/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect to database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/extract_annotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate structured data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/grounded_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extract citations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/visualize_resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualize data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/persist_resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persist Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/use_register_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use & Register Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/create_langgraph_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create a simple agent (LangGraph)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/creating_private_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a private Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/manage_context_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage context with agentic tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/complete_context_engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Complete Context Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/medication_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Medication Extraction
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gallery
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#how-to-use-hacs-tools" class="md-nav__link">
    <span class="md-ellipsis">
      How to use HACS tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start-save-and-retrieve-a-patient" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start: Save and retrieve a patient
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quick Start: Save and retrieve a patient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-api" class="md-nav__link">
    <span class="md-ellipsis">
      Python API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mcp-api" class="md-nav__link">
    <span class="md-ellipsis">
      MCP API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-workflow-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Core Workflow Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core Workflow Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-management-20-tools" class="md-nav__link">
    <span class="md-ellipsis">
      üìä Data Management (20 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resource-modeling-5-tools" class="md-nav__link">
    <span class="md-ellipsis">
      üèóÔ∏è Resource Modeling (5 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-operations-10-tools" class="md-nav__link">
    <span class="md-ellipsis">
      ü§ñ Agent Operations (10 tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-features-optional" class="md-nav__link">
    <span class="md-ellipsis">
      üîç Advanced Features (Optional)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling-and-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling and Patterns
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling and Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hacsresult-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      HACSResult Pattern
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asyncsync-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Async/Sync Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Requirements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discovery-and-registry" class="md-nav__link">
    <span class="md-ellipsis">
      Discovery and Registry
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Discovery and Registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-all-available-tools" class="md-nav__link">
    <span class="md-ellipsis">
      List All Available Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#search-tools-by-domain" class="md-nav__link">
    <span class="md-ellipsis">
      Search Tools by Domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tool-categories-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Tool Categories Summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="hacs-tools-reference">HACS Tools Reference<a class="headerlink" href="#hacs-tools-reference" title="Permanent link">&para;</a></h1>
<p>A comprehensive guide to the 50+ HACS tools for healthcare AI agents. Build clinical workflows with typed resources, CRUD operations, agent memory, and specialized healthcare tools.</p>
<p>New to HACS? Start with the <a href="../quick-start/">Quick Start</a>.</p>
<h2 id="how-to-use-hacs-tools">How to use HACS tools<a class="headerlink" href="#how-to-use-hacs-tools" title="Permanent link">&para;</a></h2>
<p>HACS tools work in <strong>two modes</strong>:</p>
<ul>
<li><strong>Python API</strong> (in-process): Import and call functions directly. Best for Python applications and testing.</li>
<li><strong>MCP API</strong> (out-of-process): JSON-RPC over HTTP/stdio. Best for non-Python agents or sandboxed contexts.</li>
</ul>
<p>All examples show both patterns where applicable.</p>
<h2 id="quick-start-save-and-retrieve-a-patient">Quick Start: Save and retrieve a patient<a class="headerlink" href="#quick-start-save-and-retrieve-a-patient" title="Permanent link">&para;</a></h2>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Install HACS with database support</span>
uv<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>hacs-tools<span class="w"> </span>hacs-persistence

<span class="c1"># Set up environment </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">&quot;postgresql://user:pass@localhost/hacs&quot;</span><span class="w">  </span>
<span class="nb">export</span><span class="w"> </span><span class="nv">OPENAI_API_KEY</span><span class="o">=</span><span class="s2">&quot;sk-...&quot;</span><span class="w">  </span><span class="c1"># Optional, for extraction tools</span>
</code></pre></div>
<h3 id="python-api">Python API<a class="headerlink" href="#python-api" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="n">load_dotenv</span><span class="p">()</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">save_resource</span><span class="p">,</span> <span class="n">read_resource</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.modeling</span><span class="w"> </span><span class="kn">import</span> <span class="n">pin_resource</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Patient</span>

<span class="c1"># 1. Create a patient resource</span>
<span class="n">patient_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span>
    <span class="s2">&quot;birth_date&quot;</span><span class="p">:</span> <span class="s2">&quot;1990-01-01&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="s2">&quot;female&quot;</span><span class="p">,</span>
    <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span>
<span class="p">}</span>

<span class="c1"># 2. Pin the resource (validates and adds metadata)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pin_resource</span><span class="p">(</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="n">patient_data</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">patient_resource</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Created Patient: </span><span class="si">{</span><span class="n">patient_resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úó Error: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Output:</span>
<span class="c1"># ‚úì Created Patient: patient_a1b2c3d4</span>

<span class="c1"># 3. Save to database</span>
<span class="n">save_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">save_resource</span><span class="p">(</span><span class="n">resource</span><span class="o">=</span><span class="n">patient_resource</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Saved: </span><span class="si">{</span><span class="n">save_result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;resource_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Output:  </span>
<span class="c1"># ‚úì Saved: patient_a1b2c3d4</span>

<span class="c1"># 4. Read back from database</span>
<span class="n">read_result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">read_resource</span><span class="p">(</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="s2">&quot;patient_a1b2c3d4&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">read_result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">retrieved</span> <span class="o">=</span> <span class="n">read_result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Retrieved: </span><span class="si">{</span><span class="n">retrieved</span><span class="p">[</span><span class="s1">&#39;full_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (DOB: </span><span class="si">{</span><span class="n">retrieved</span><span class="p">[</span><span class="s1">&#39;birth_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">read_result</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Output:</span>
<span class="c1"># Retrieved: Jane Doe (DOB: 1990-01-01)</span>
</code></pre></div>
<h3 id="mcp-api">MCP API<a class="headerlink" href="#mcp-api" title="Permanent link">&para;</a></h3>
<p>Start the MCP server:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/Users/solanotodeschini/Code/hacs-ai
uv<span class="w"> </span>run<span class="w"> </span>hacs-utils<span class="w"> </span>mcp-server<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span>
</code></pre></div>
<p>Call tools via JSON-RPC:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>

<span class="c1"># 1. List available tools</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000/&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;tools/list&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>
<span class="n">tools</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;result&quot;</span><span class="p">][</span><span class="s2">&quot;tools&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">tools</span><span class="p">)</span><span class="si">}</span><span class="s2"> tools&quot;</span><span class="p">)</span>

<span class="c1"># Output:</span>
<span class="c1"># Found 23 tools</span>

<span class="c1"># 2. Save a patient</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000/&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;tools/call&quot;</span><span class="p">,</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;pin_resource&quot;</span><span class="p">,</span>
        <span class="s2">&quot;arguments&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;resource_type&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient&quot;</span><span class="p">,</span>
            <span class="s2">&quot;resource_data&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="s2">&quot;John Smith&quot;</span><span class="p">,</span>
                <span class="s2">&quot;birth_date&quot;</span><span class="p">:</span> <span class="s2">&quot;1985-03-15&quot;</span><span class="p">,</span>
                <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="s2">&quot;male&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">})</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;result&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Patient ID: </span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;resource&#39;</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Output:</span>
<span class="c1"># ‚úì Patient ID: patient_x9y8z7w6</span>
</code></pre></div>
<h2 id="core-workflow-tools">Core Workflow Tools<a class="headerlink" href="#core-workflow-tools" title="Permanent link">&para;</a></h2>
<h3 id="data-management-20-tools">üìä Data Management (20 tools)<a class="headerlink" href="#data-management-20-tools" title="Permanent link">&para;</a></h3>
<p>Healthcare data persistence, search, and registry operations with full CRUD support.</p>
<h4 id="core-crud-operations">Core CRUD Operations<a class="headerlink" href="#core-crud-operations" title="Permanent link">&para;</a></h4>
<h5 id="save_resource"><code>save_resource</code><a class="headerlink" href="#save_resource" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Persist HACS resources to typed tables or generic JSONB storage.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">save_resource</span>

<span class="c1"># Save with typed table (recommended)</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">save_resource</span><span class="p">(</span>
    <span class="n">resource</span><span class="o">=</span><span class="n">patient_dict</span><span class="p">,</span>
    <span class="n">as_typed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>           <span class="c1"># Use strongly-typed Patient table</span>
    <span class="n">index_semantic</span><span class="o">=</span><span class="kc">True</span>      <span class="c1"># Create vector embeddings for search</span>
<span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># HACSResult(</span>
<span class="c1">#   success=True,</span>
<span class="c1">#   message=&quot;Resource saved successfully&quot;,</span>
<span class="c1">#   data={</span>
<span class="c1">#     &quot;resource_id&quot;: &quot;patient_abc123&quot;,</span>
<span class="c1">#     &quot;resource_type&quot;: &quot;Patient&quot;, </span>
<span class="c1">#     &quot;schema&quot;: &quot;hacs_clinical&quot;,</span>
<span class="c1">#     &quot;table&quot;: &quot;patient&quot;,</span>
<span class="c1">#     &quot;semantic_indexed&quot;: True</span>
<span class="c1">#   }</span>
<span class="c1"># )</span>

<span class="c1"># Save to generic JSONB (for flexibility)</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">save_resource</span><span class="p">(</span>
    <span class="n">resource</span><span class="o">=</span><span class="n">custom_resource</span><span class="p">,</span>
    <span class="n">as_typed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>          <span class="c1"># Use generic jsonb storage</span>
    <span class="n">schema</span><span class="o">=</span><span class="s2">&quot;custom_schema&quot;</span>
<span class="p">)</span>
</code></pre></div>
<p><strong>Parameters</strong>:
- <code>resource</code> (dict): Resource data to save
- <code>as_typed</code> (bool): Use typed table (True) or generic JSONB (False) 
- <code>schema</code> (str, optional): Schema name override
- <code>index_semantic</code> (bool): Create vector embeddings for search</p>
<p><strong>Returns</strong>: <code>HACSResult</code> with resource ID and storage details</p>
<h5 id="read_resource"><code>read_resource</code><a class="headerlink" href="#read_resource" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Retrieve resources by type and ID.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_resource</span>

<span class="c1"># Read from typed table</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">read_resource</span><span class="p">(</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="s2">&quot;patient_abc123&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">patient</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">]</span> 
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Name: </span><span class="si">{</span><span class="n">patient</span><span class="p">[</span><span class="s1">&#39;full_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DOB: </span><span class="si">{</span><span class="n">patient</span><span class="p">[</span><span class="s1">&#39;birth_date&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Name: Jane Doe</span>
<span class="c1"># DOB: 1990-01-01</span>
<span class="c1"># </span>
<span class="c1"># HACSResult.data = {</span>
<span class="c1">#   &quot;resource&quot;: {</span>
<span class="c1">#     &quot;id&quot;: &quot;patient_abc123&quot;,</span>
<span class="c1">#     &quot;resource_type&quot;: &quot;Patient&quot;,</span>
<span class="c1">#     &quot;full_name&quot;: &quot;Jane Doe&quot;,</span>
<span class="c1">#     &quot;birth_date&quot;: &quot;1990-01-01&quot;,</span>
<span class="c1">#     &quot;created_at&quot;: &quot;2024-01-15T10:30:00Z&quot;,</span>
<span class="c1">#     ...</span>
<span class="c1">#   },</span>
<span class="c1">#   &quot;metadata&quot;: {</span>
<span class="c1">#     &quot;table&quot;: &quot;patient&quot;,</span>
<span class="c1">#     &quot;schema&quot;: &quot;hacs_clinical&quot;</span>
<span class="c1">#   }</span>
<span class="c1"># }</span>

<span class="c1"># Read from generic storage</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">read_resource</span><span class="p">(</span><span class="s2">&quot;CustomType&quot;</span><span class="p">,</span> <span class="s2">&quot;custom_123&quot;</span><span class="p">,</span> <span class="n">as_typed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters</strong>:
- <code>resource_type</code> (str): HACS resource type name
- <code>resource_id</code> (str): Resource ID to retrieve<br />
- <code>as_typed</code> (bool): Read from typed table (True) or generic (False)
- <code>schema</code> (str, optional): Schema name override</p>
<h5 id="update_resource"><code>update_resource</code><a class="headerlink" href="#update_resource" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Apply partial updates to existing resources.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">update_resource</span>

<span class="c1"># Update specific fields</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">update_resource</span><span class="p">(</span>
    <span class="n">resource_type</span><span class="o">=</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span>
    <span class="n">resource_id</span><span class="o">=</span><span class="s2">&quot;patient_abc123&quot;</span><span class="p">,</span>
    <span class="n">patch</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="s2">&quot;telecom&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;phone&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;555-1234&quot;</span><span class="p">}],</span>
        <span class="s2">&quot;updated_reason&quot;</span><span class="p">:</span> <span class="s2">&quot;Phone number updated&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># HACSResult(</span>
<span class="c1">#   success=True,</span>
<span class="c1">#   message=&quot;Resource updated successfully&quot;, </span>
<span class="c1">#   data={</span>
<span class="c1">#     &quot;resource&quot;: {</span>
<span class="c1">#       &quot;id&quot;: &quot;patient_abc123&quot;,</span>
<span class="c1">#       &quot;full_name&quot;: &quot;Jane Doe&quot;,  # unchanged</span>
<span class="c1">#       &quot;active&quot;: False,          # updated</span>
<span class="c1">#       &quot;telecom&quot;: [...],         # updated</span>
<span class="c1">#       &quot;updated_at&quot;: &quot;2024-01-15T15:45:00Z&quot;  # auto-updated</span>
<span class="c1">#     }</span>
<span class="c1">#   }</span>
<span class="c1"># )</span>
</code></pre></div>
<h5 id="delete_resource"><code>delete_resource</code><a class="headerlink" href="#delete_resource" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Remove resources from storage.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">delete_resource</span>

<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">delete_resource</span><span class="p">(</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="s2">&quot;patient_abc123&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úì Patient deleted successfully&quot;</span><span class="p">)</span>

<span class="c1"># Example output: </span>
<span class="c1"># ‚úì Patient deleted successfully</span>
<span class="c1">#</span>
<span class="c1"># HACSResult(</span>
<span class="c1">#   success=True,</span>
<span class="c1">#   message=&quot;Resource deleted successfully&quot;,</span>
<span class="c1">#   data={</span>
<span class="c1">#     &quot;resource_id&quot;: &quot;patient_abc123&quot;,</span>
<span class="c1">#     &quot;resource_type&quot;: &quot;Patient&quot;,</span>
<span class="c1">#     &quot;deleted_at&quot;: &quot;2024-01-15T16:00:00Z&quot;</span>
<span class="c1">#   }</span>
<span class="c1"># )</span>
</code></pre></div>
<h4 id="search-operations">Search Operations<a class="headerlink" href="#search-operations" title="Permanent link">&para;</a></h4>
<h5 id="search_memories"><code>search_memories</code><a class="headerlink" href="#search_memories" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Vector-based search of agent memories with database filters.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">search_memories</span>

<span class="c1"># Semantic search with actor filter</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">search_memories</span><span class="p">(</span>
    <span class="n">actor_id</span><span class="o">=</span><span class="s2">&quot;dr_chen&quot;</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;patient blood pressure management&quot;</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;memory_type&quot;</span><span class="p">:</span> <span class="s2">&quot;episodic&quot;</span><span class="p">},</span>
    <span class="n">top_k</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">memory</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;memories&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Relevance: </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚Ä¢ Discussed BP management with Patient Jane Doe. Recommended lifestyle changes and monitoring...</span>
<span class="c1">#   Relevance: 0.892</span>
<span class="c1"># ‚Ä¢ Patient reported difficulty with medication adherence. Suggested pill organizer and...</span>
<span class="c1">#   Relevance: 0.847</span>
</code></pre></div>
<h5 id="search_knowledge_items"><code>search_knowledge_items</code><a class="headerlink" href="#search_knowledge_items" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Search clinical knowledge base using vector similarity.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">search_knowledge_items</span>

<span class="c1"># Search evidence with reranking</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">search_knowledge_items</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;hypertension treatment guidelines ACE inhibitors&quot;</span><span class="p">,</span>
    <span class="n">top_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">filters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;pubmed&quot;</span><span class="p">,</span> <span class="s2">&quot;year_min&quot;</span><span class="p">:</span> <span class="mi">2020</span><span class="p">},</span>
    <span class="n">rerank</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;items&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Title: </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Source: </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Relevance: </span><span class="si">{</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;relevance_score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Title: ACE Inhibitors in Hypertension Management: 2023 Guidelines</span>
<span class="c1"># Source: pubmed (2023)  </span>
<span class="c1"># Relevance: 0.934</span>
<span class="c1">#</span>
<span class="c1"># Title: Comparative Effectiveness of ACE Inhibitors vs ARBs</span>
<span class="c1"># Source: pubmed (2022)</span>
<span class="c1"># Relevance: 0.891</span>
</code></pre></div>
<h4 id="registry-operations">Registry Operations<a class="headerlink" href="#registry-operations" title="Permanent link">&para;</a></h4>
<h5 id="register_model_version"><code>register_model_version</code><a class="headerlink" href="#register_model_version" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Register model schemas in the HACS registry for versioning.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">register_model_version</span>

<span class="c1"># Register a custom patient extension</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">register_model_version</span><span class="p">(</span>
    <span class="n">resource_name</span><span class="o">=</span><span class="s2">&quot;ExtendedPatient&quot;</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.2.0&quot;</span><span class="p">,</span> 
    <span class="n">schema_def</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;object&quot;</span><span class="p">,</span>
        <span class="s2">&quot;properties&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">},</span>
            <span class="s2">&quot;birth_date&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;date&quot;</span><span class="p">},</span>
            <span class="s2">&quot;genetic_markers&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
                <span class="s2">&quot;items&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;full_name&quot;</span><span class="p">,</span> <span class="s2">&quot;birth_date&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;patient&quot;</span><span class="p">,</span> <span class="s2">&quot;genomics&quot;</span><span class="p">,</span> <span class="s2">&quot;extended&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Registered: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;registry_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Registered: extended_patient_v1.2.0_abc123</span>
</code></pre></div>
<h4 id="database-administration">Database Administration<a class="headerlink" href="#database-administration" title="Permanent link">&para;</a></h4>
<h5 id="run_migrations"><code>run_migrations</code><a class="headerlink" href="#run_migrations" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Execute database schema migrations to ensure consistency.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">run_migrations</span>

<span class="c1"># Run all pending migrations</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_migrations</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Applied </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;applied&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2"> migrations:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">migration</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;applied&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Ä¢ </span><span class="si">{</span><span class="n">migration</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">migration</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Applied 3 migrations:</span>
<span class="c1">#   ‚Ä¢ 20240115_001_patient_telecom - Add telecom fields to patient table</span>
<span class="c1">#   ‚Ä¢ 20240115_002_observation_index - Add semantic index to observation table  </span>
<span class="c1">#   ‚Ä¢ 20240115_003_memory_schema - Update memory table schema</span>
</code></pre></div>
<h5 id="get_db_status"><code>get_db_status</code><a class="headerlink" href="#get_db_status" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Check database connection and migration state.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.database</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_db_status</span>

<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">get_db_status</span><span class="p">()</span>
<span class="n">status</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Connection: </span><span class="si">{</span><span class="s1">&#39;‚úì&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;connected&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;‚úó&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Schema version: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;schema_version&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Pending migrations: </span><span class="si">{</span><span class="n">status</span><span class="p">[</span><span class="s1">&#39;pending_migrations&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Connection: ‚úì</span>
<span class="c1"># Schema version: 2.1.3</span>
<span class="c1"># Pending migrations: 0</span>
</code></pre></div>
<h3 id="resource-modeling-5-tools">üèóÔ∏è Resource Modeling (5 tools)<a class="headerlink" href="#resource-modeling-5-tools" title="Permanent link">&para;</a></h3>
<p>Tools for creating, validating, and composing HACS resources with proper metadata and type safety.</p>
<h4 id="pin_resource"><code>pin_resource</code><a class="headerlink" href="#pin_resource" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>: Create and validate HACS resources with proper metadata.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.modeling</span><span class="w"> </span><span class="kn">import</span> <span class="n">pin_resource</span>

<span class="c1"># Create a medication request</span>
<span class="n">med_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
    <span class="s2">&quot;intent&quot;</span><span class="p">:</span> <span class="s2">&quot;order&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;medication_codeable_concept&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Lisinopril 10mg&quot;</span><span class="p">,</span>
        <span class="s2">&quot;coding&quot;</span><span class="p">:</span> <span class="p">[{</span>
            <span class="s2">&quot;system&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.nlm.nih.gov/research/umls/rxnorm&quot;</span><span class="p">,</span>
            <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;314077&quot;</span>
        <span class="p">}]</span>
    <span class="p">},</span>
    <span class="s2">&quot;subject&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;reference&quot;</span><span class="p">:</span> <span class="s2">&quot;Patient/patient_abc123&quot;</span><span class="p">},</span>
    <span class="s2">&quot;dosage_instruction&quot;</span><span class="p">:</span> <span class="p">[{</span>
        <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Take one tablet daily&quot;</span>
    <span class="p">}]</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">pin_resource</span><span class="p">(</span><span class="s2">&quot;MedicationRequest&quot;</span><span class="p">,</span> <span class="n">med_data</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Created MedicationRequest: </span><span class="si">{</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Status: </span><span class="si">{</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Medication: </span><span class="si">{</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;medication_codeable_concept&#39;</span><span class="p">][</span><span class="s1">&#39;text&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Created MedicationRequest: medreq_def456</span>
<span class="c1"># Status: active</span>
<span class="c1"># Medication: Lisinopril 10mg</span>
</code></pre></div>
<h4 id="compose_bundle"><code>compose_bundle</code><a class="headerlink" href="#compose_bundle" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>: Combine multiple resources into a FHIR Bundle.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.modeling</span><span class="w"> </span><span class="kn">import</span> <span class="n">compose_bundle</span>

<span class="c1"># Create a bundle with patient and observations</span>
<span class="n">resources</span> <span class="o">=</span> <span class="p">[</span><span class="n">patient_resource</span><span class="p">,</span> <span class="n">bp_observation</span><span class="p">,</span> <span class="n">hr_observation</span><span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">compose_bundle</span><span class="p">(</span>
    <span class="n">bundle_type</span><span class="o">=</span><span class="s2">&quot;collection&quot;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Patient Visit Summary&quot;</span><span class="p">,</span>
    <span class="n">resources</span><span class="o">=</span><span class="n">resources</span>
<span class="p">)</span>

<span class="n">bundle</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;bundle&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Bundle contains </span><span class="si">{</span><span class="n">bundle</span><span class="p">[</span><span class="s1">&#39;total&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> resources&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">bundle</span><span class="p">[</span><span class="s2">&quot;entry&quot;</span><span class="p">]:</span>
    <span class="n">resource</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="s2">&quot;resource&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Ä¢ </span><span class="si">{</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;resource_type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">resource</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Bundle contains 3 resources</span>
<span class="c1">#   ‚Ä¢ Patient: patient_abc123</span>
<span class="c1">#   ‚Ä¢ Observation: obs_bp_789</span>
<span class="c1">#   ‚Ä¢ Observation: obs_hr_456</span>
</code></pre></div>
<h4 id="validate_resource"><code>validate_resource</code><a class="headerlink" href="#validate_resource" title="Permanent link">&para;</a></h4>
<p><strong>Purpose</strong>: Validate resources against HACS schemas and business rules.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.modeling</span><span class="w"> </span><span class="kn">import</span> <span class="n">validate_resource</span>

<span class="c1"># Validate with comprehensive checking</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">validate_resource</span><span class="p">(</span>
    <span class="n">resource</span><span class="o">=</span><span class="n">medication_request</span><span class="p">,</span>
    <span class="n">check_references</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>    <span class="c1"># Validate reference integrity</span>
    <span class="n">check_business_rules</span><span class="o">=</span><span class="kc">True</span> <span class="c1"># Apply clinical validation rules  </span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úì Resource is valid&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;warnings&quot;</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">warning</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;warnings&quot;</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ö† Warning: </span><span class="si">{</span><span class="n">warning</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úó Validation failed:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">error</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;errors&quot;</span><span class="p">]:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  ‚Ä¢ </span><span class="si">{</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">error</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Resource is valid</span>
<span class="c1"># ‚ö† Warning: dosage_instruction[0] missing timing information</span>
</code></pre></div>
<h3 id="agent-operations-10-tools">ü§ñ Agent Operations (10 tools)<a class="headerlink" href="#agent-operations-10-tools" title="Permanent link">&para;</a></h3>
<p>Tools for agent working memory, task planning, long-term memory, and context management.</p>
<h4 id="working-memory-scratchpad">Working Memory (Scratchpad)<a class="headerlink" href="#working-memory-scratchpad" title="Permanent link">&para;</a></h4>
<h5 id="write_scratchpad"><code>write_scratchpad</code><a class="headerlink" href="#write_scratchpad" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Record observations, decisions, and working notes.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">write_scratchpad</span>

<span class="c1"># Record a clinical observation</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">write_scratchpad</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Patient reports 7/10 chest pain, onset 2 hours ago. No radiation to arms. Vital signs stable.&quot;</span><span class="p">,</span>
    <span class="n">entry_type</span><span class="o">=</span><span class="s2">&quot;observation&quot;</span><span class="p">,</span>
    <span class="n">session_id</span><span class="o">=</span><span class="s2">&quot;visit_20240115&quot;</span><span class="p">,</span>
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;chest_pain&quot;</span><span class="p">,</span> <span class="s2">&quot;assessment&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Recorded entry: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;entry_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Recorded entry: scratchpad_ghi789</span>
</code></pre></div>
<h5 id="read_scratchpad"><code>read_scratchpad</code><a class="headerlink" href="#read_scratchpad" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Retrieve working memory entries for context.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">read_scratchpad</span>

<span class="c1"># Get recent observations for this session</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">read_scratchpad</span><span class="p">(</span>
    <span class="n">session_id</span><span class="o">=</span><span class="s2">&quot;visit_20240115&quot;</span><span class="p">,</span>
    <span class="n">entry_type</span><span class="o">=</span><span class="s2">&quot;observation&quot;</span><span class="p">,</span> 
    <span class="n">limit</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;entries&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">entry</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">][:</span><span class="mi">80</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># [2024-01-15T14:30:00Z] Patient reports 7/10 chest pain, onset 2 hours ago. No radiation to arms...</span>
<span class="c1"># [2024-01-15T14:25:00Z] Reviewed patient history: 3 prior ED visits for chest pain, all negative...</span>
</code></pre></div>
<h4 id="task-planning">Task Planning<a class="headerlink" href="#task-planning" title="Permanent link">&para;</a></h4>
<h5 id="create_todo"><code>create_todo</code><a class="headerlink" href="#create_todo" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Create structured task items for clinical workflows.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_todo</span>

<span class="c1"># Create urgent clinical task</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">create_todo</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Order cardiac enzymes and chest X-ray for patient with chest pain&quot;</span><span class="p">,</span>
    <span class="n">priority</span><span class="o">=</span><span class="s2">&quot;high&quot;</span><span class="p">,</span>
    <span class="n">clinical_urgency</span><span class="o">=</span><span class="s2">&quot;urgent&quot;</span><span class="p">,</span>
    <span class="n">due_date</span><span class="o">=</span><span class="s2">&quot;2024-01-15T16:00:00Z&quot;</span><span class="p">,</span>
    <span class="n">context</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;patient_id&quot;</span><span class="p">:</span> <span class="s2">&quot;patient_abc123&quot;</span><span class="p">,</span>
        <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="s2">&quot;visit_20240115&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Created todo: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;todo_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Created todo: todo_urgent_jkl012</span>
</code></pre></div>
<h5 id="list_todos"><code>list_todos</code><a class="headerlink" href="#list_todos" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Retrieve and filter task lists.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">list_todos</span>

<span class="c1"># Get high-priority pending tasks</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">list_todos</span><span class="p">(</span>
    <span class="n">status</span><span class="o">=</span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
    <span class="n">priority_min</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="c1"># High priority and above</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">10</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;todos&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2"> high-priority tasks:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">todo</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;todos&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ [</span><span class="si">{</span><span class="n">todo</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">todo</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">][:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">todo</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clinical_urgency&#39;</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Clinical urgency: </span><span class="si">{</span><span class="n">todo</span><span class="p">[</span><span class="s1">&#39;clinical_urgency&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Found 3 high-priority tasks:</span>
<span class="c1"># ‚Ä¢ [high] Order cardiac enzymes and chest X-ray for patient with chest...</span>
<span class="c1">#   Clinical urgency: urgent</span>
<span class="c1"># ‚Ä¢ [high] Review medication interactions for patient on multiple...</span>
<span class="c1">#   Clinical urgency: moderate</span>
</code></pre></div>
<h4 id="long-term-memory">Long-term Memory<a class="headerlink" href="#long-term-memory" title="Permanent link">&para;</a></h4>
<h5 id="store_memory"><code>store_memory</code><a class="headerlink" href="#store_memory" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Persist important information for future reference.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">store_memory</span>

<span class="c1"># Store procedural knowledge</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">store_memory</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;When evaluating chest pain in young patients, always consider anxiety/panic disorder if cardiac workup is negative. Patient education about anxiety symptoms is crucial.&quot;</span><span class="p">,</span>
    <span class="n">memory_type</span><span class="o">=</span><span class="s2">&quot;procedural&quot;</span><span class="p">,</span>
    <span class="n">actor_id</span><span class="o">=</span><span class="s2">&quot;dr_chen&quot;</span><span class="p">,</span> 
    <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;chest_pain&quot;</span><span class="p">,</span> <span class="s2">&quot;anxiety&quot;</span><span class="p">,</span> <span class="s2">&quot;young_patients&quot;</span><span class="p">],</span>
    <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;domain&quot;</span><span class="p">:</span> <span class="s2">&quot;emergency_medicine&quot;</span><span class="p">,</span> <span class="s2">&quot;evidence_level&quot;</span><span class="p">:</span> <span class="s2">&quot;clinical_experience&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì Stored memory: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;memory_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚úì Stored memory: memory_mno345</span>
</code></pre></div>
<h5 id="retrieve_memories"><code>retrieve_memories</code><a class="headerlink" href="#retrieve_memories" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Find relevant memories using semantic search.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">retrieve_memories</span>

<span class="c1"># Retrieve relevant clinical knowledge</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">retrieve_memories</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;chest pain young patient anxiety&quot;</span><span class="p">,</span>
    <span class="n">actor_id</span><span class="o">=</span><span class="s2">&quot;dr_chen&quot;</span><span class="p">,</span>
    <span class="n">memory_type</span><span class="o">=</span><span class="s2">&quot;procedural&quot;</span><span class="p">,</span>
    <span class="n">limit</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">memory</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;memories&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">][:</span><span class="mi">100</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Relevance: </span><span class="si">{</span><span class="n">memory</span><span class="p">[</span><span class="s1">&#39;relevance_score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Tags: </span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">memory</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[]))</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚Ä¢ When evaluating chest pain in young patients, always consider anxiety/panic disorder if...</span>
<span class="c1">#   Relevance: 0.924</span>
<span class="c1">#   Tags: chest_pain, anxiety, young_patients</span>
</code></pre></div>
<h4 id="context-management">Context Management<a class="headerlink" href="#context-management" title="Permanent link">&para;</a></h4>
<h5 id="inject_preferences"><code>inject_preferences</code><a class="headerlink" href="#inject_preferences" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Apply actor preferences to messages and responses.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">inject_preferences</span>

<span class="c1"># Apply communication preferences</span>
<span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span>
    <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;The patient should start on ACE inhibitor therapy.&quot;</span>
<span class="p">}</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">inject_preferences</span><span class="p">(</span>
    <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="p">,</span>
    <span class="n">actor_id</span><span class="o">=</span><span class="s2">&quot;dr_chen&quot;</span><span class="p">,</span>
    <span class="n">preference_scope</span><span class="o">=</span><span class="s2">&quot;communication_style&quot;</span>
<span class="p">)</span>

<span class="n">enhanced_message</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Enhanced: </span><span class="si">{</span><span class="n">enhanced_message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Enhanced: Based on current guidelines, I recommend initiating ACE inhibitor therapy for this patient. Please consider starting with lisinopril 5mg daily, with close monitoring of blood pressure and renal function. Would you like me to provide patient education materials about this medication?</span>
</code></pre></div>
<h5 id="select_tools_for_task"><code>select_tools_for_task</code><a class="headerlink" href="#select_tools_for_task" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Choose relevant tools using semantic matching.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.agents</span><span class="w"> </span><span class="kn">import</span> <span class="n">select_tools_for_task</span>

<span class="c1"># Get tools for clinical documentation</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">select_tools_for_task</span><span class="p">(</span>
    <span class="n">task_description</span><span class="o">=</span><span class="s2">&quot;Create comprehensive discharge summary for patient with heart failure&quot;</span><span class="p">,</span>
    <span class="n">max_tools</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span>
    <span class="n">domain_filter</span><span class="o">=</span><span class="s2">&quot;modeling&quot;</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;selected_tools&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">tool</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tool</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">][:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Relevance: </span><span class="si">{</span><span class="n">tool</span><span class="p">[</span><span class="s1">&#39;relevance_score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:  </span>
<span class="c1"># ‚Ä¢ pin_resource: Create and validate HACS resources with proper metadata...</span>
<span class="c1">#   Relevance: 0.887</span>
<span class="c1"># ‚Ä¢ compose_bundle: Combine multiple resources into a FHIR Bundle...</span>
<span class="c1">#   Relevance: 0.823</span>
</code></pre></div>
<h3 id="advanced-features-optional">üîç Advanced Features (Optional)<a class="headerlink" href="#advanced-features-optional" title="Permanent link">&para;</a></h3>
<h4 id="extraction-tools-llm-dependent">Extraction Tools (LLM-dependent)<a class="headerlink" href="#extraction-tools-llm-dependent" title="Permanent link">&para;</a></h4>
<p>These tools require LLM integration and are optional based on your setup.</p>
<h5 id="extract_variables"><code>extract_variables</code><a class="headerlink" href="#extract_variables" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Extract structured data from clinical text using LLMs.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.extraction</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_variables</span>

<span class="c1"># Extract vital signs from clinical notes  </span>
<span class="n">result</span> <span class="o">=</span> <span class="n">extract_variables</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Patient presents with BP 140/90, HR 88, temp 98.6F, O2 sat 97</span><span class="si">% o</span><span class="s2">n room air&quot;</span><span class="p">,</span>
    <span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;systolic_bp&quot;</span><span class="p">,</span> <span class="s2">&quot;diastolic_bp&quot;</span><span class="p">,</span> <span class="s2">&quot;heart_rate&quot;</span><span class="p">,</span> <span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;oxygen_saturation&quot;</span><span class="p">],</span>
    <span class="n">provider</span><span class="o">=</span><span class="s2">&quot;openai&quot;</span>
<span class="p">)</span>

<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">extracted</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Extracted variables:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">var</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">extracted</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">var</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># Extracted variables:</span>
<span class="c1">#   systolic_bp: 140</span>
<span class="c1">#   diastolic_bp: 90  </span>
<span class="c1">#   heart_rate: 88</span>
<span class="c1">#   temperature: 98.6</span>
<span class="c1">#   oxygen_saturation: 97</span>
</code></pre></div>
<h4 id="terminology-tools-optional">Terminology Tools (Optional)<a class="headerlink" href="#terminology-tools-optional" title="Permanent link">&para;</a></h4>
<p>Clinical coding and terminology management tools.</p>
<h5 id="search_umls"><code>search_umls</code><a class="headerlink" href="#search_umls" title="Permanent link">&para;</a></h5>
<p><strong>Purpose</strong>: Search UMLS terminology for clinical codes.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools.domains.terminology</span><span class="w"> </span><span class="kn">import</span> <span class="n">search_umls</span>

<span class="c1"># Find codes for hypertension</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">search_umls</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;essential hypertension&quot;</span><span class="p">,</span>
    <span class="n">source_vocabularies</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SNOMEDCT_US&quot;</span><span class="p">,</span> <span class="s2">&quot;ICD10CM&quot;</span><span class="p">],</span>
    <span class="n">max_results</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>

<span class="k">for</span> <span class="n">concept</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;concepts&quot;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">concept</span><span class="p">[</span><span class="s1">&#39;preferred_name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Code: </span><span class="si">{</span><span class="n">concept</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">concept</span><span class="p">[</span><span class="s1">&#39;vocabulary&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Definition: </span><span class="si">{</span><span class="n">concept</span><span class="p">[</span><span class="s1">&#39;definition&#39;</span><span class="p">][:</span><span class="mi">80</span><span class="p">]</span><span class="si">}</span><span class="s2">...</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚Ä¢ Essential hypertension</span>
<span class="c1">#   Code: 59621000 (SNOMEDCT_US)</span>
<span class="c1">#   Definition: Hypertension that occurs without apparent cause; idiopathic...</span>
</code></pre></div>
<h2 id="error-handling-and-patterns">Error Handling and Patterns<a class="headerlink" href="#error-handling-and-patterns" title="Permanent link">&para;</a></h2>
<h3 id="hacsresult-pattern">HACSResult Pattern<a class="headerlink" href="#hacsresult-pattern" title="Permanent link">&para;</a></h3>
<p>All HACS tools return a consistent <code>HACSResult</code> object:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">HACSResult</span>

<span class="c1"># Always check success before using data</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">some_tool</span><span class="p">(</span><span class="n">parameters</span><span class="o">...</span><span class="p">)</span>

<span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">success</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">data</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úì </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># Use data safely</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úó Error: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Details: </span><span class="si">{</span><span class="n">result</span><span class="o">.</span><span class="n">error</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="c1"># Handle error gracefully</span>
</code></pre></div>
<h3 id="asyncsync-patterns">Async/Sync Patterns<a class="headerlink" href="#asyncsync-patterns" title="Permanent link">&para;</a></h3>
<p>Most database tools are async; agent tools are typically sync:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Database tools (async)</span>
<span class="k">await</span> <span class="n">save_resource</span><span class="p">(</span><span class="n">resource</span><span class="p">)</span>
<span class="k">await</span> <span class="n">search_memories</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="c1"># Agent tools (sync)  </span>
<span class="n">write_scratchpad</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">create_todo</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>

<span class="c1"># Check tool documentation for async status</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_tool</span>
<span class="n">tool</span> <span class="o">=</span> <span class="n">get_tool</span><span class="p">(</span><span class="s2">&quot;save_resource&quot;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Async: </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">is_async</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># True</span>
</code></pre></div>
<h3 id="authentication-requirements">Authentication Requirements<a class="headerlink" href="#authentication-requirements" title="Permanent link">&para;</a></h3>
<p>Tools that require actor authentication:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Tools requiring authentication inject actor automatically</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.integrations.common.tool_loader</span><span class="w"> </span><span class="kn">import</span> <span class="n">set_injected_params</span>

<span class="n">set_injected_params</span><span class="p">({</span><span class="s2">&quot;actor_name&quot;</span><span class="p">:</span> <span class="s2">&quot;dr_chen&quot;</span><span class="p">})</span>

<span class="c1"># Now all authenticated tools use this actor</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">store_memory</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>  <span class="c1"># Automatically uses dr_chen</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">create_todo</span><span class="p">(</span><span class="n">content</span><span class="o">=</span><span class="s2">&quot;...&quot;</span><span class="p">)</span>   <span class="c1"># Automatically uses dr_chen</span>
</code></pre></div>
<h2 id="discovery-and-registry">Discovery and Registry<a class="headerlink" href="#discovery-and-registry" title="Permanent link">&para;</a></h2>
<h3 id="list-all-available-tools">List All Available Tools<a class="headerlink" href="#list-all-available-tools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Python API - get all tools</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_global_tool_registry</span>

<span class="n">registry</span> <span class="o">=</span> <span class="n">get_global_tool_registry</span><span class="p">()</span>
<span class="n">all_tools</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">get_all_tools</span><span class="p">()</span>

<span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">all_tools</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">domain</span><span class="si">}</span><span class="s2">) - </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">description</span><span class="p">[:</span><span class="mi">60</span><span class="p">]</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

<span class="c1"># MCP API - get curated tools</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;http://localhost:8000/&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;jsonrpc&quot;</span><span class="p">:</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;tools/list&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">})</span>

<span class="n">tools</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s2">&quot;result&quot;</span><span class="p">][</span><span class="s2">&quot;tools&quot;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;MCP exposes </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">tools</span><span class="p">)</span><span class="si">}</span><span class="s2"> tools&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="search-tools-by-domain">Search Tools by Domain<a class="headerlink" href="#search-tools-by-domain" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Find all modeling tools</span>
<span class="n">modeling_tools</span> <span class="o">=</span> <span class="n">registry</span><span class="o">.</span><span class="n">get_tools_by_domain</span><span class="p">(</span><span class="s2">&quot;modeling&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">modeling_tools</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">tool</span><span class="o">.</span><span class="n">description</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Example output:</span>
<span class="c1"># ‚Ä¢ pin_resource: Create and validate HACS resources with proper metadata</span>
<span class="c1"># ‚Ä¢ compose_bundle: Combine multiple resources into a FHIR Bundle</span>
<span class="c1"># ‚Ä¢ validate_resource: Validate resources against HACS schemas</span>
<span class="c1"># ‚Ä¢ diff_resources: Compare two resources and show differences</span>
<span class="c1"># ‚Ä¢ validate_bundle: Validate bundle structure and resource references</span>
</code></pre></div>
<h3 id="tool-categories-summary">Tool Categories Summary<a class="headerlink" href="#tool-categories-summary" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Tools</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>üìä Database</strong></td>
<td>20</td>
<td>CRUD, search, registry, admin</td>
</tr>
<tr>
<td><strong>ü§ñ Agents</strong></td>
<td>10</td>
<td>Memory, tasks, context, preferences</td>
</tr>
<tr>
<td><strong>üèóÔ∏è Modeling</strong></td>
<td>5</td>
<td>Resource creation, validation, bundles</td>
</tr>
<tr>
<td><strong>üîç Extraction</strong></td>
<td>4</td>
<td>LLM-based data extraction (optional)</td>
</tr>
<tr>
<td><strong>üß¨ Terminology</strong></td>
<td>5</td>
<td>Clinical coding, UMLS search (optional)</td>
</tr>
<tr>
<td><strong>üè• Resource-specific</strong></td>
<td>15+</td>
<td>Specialized tools for Patient, Observation, etc.</td>
</tr>
</tbody>
</table>
<p>For implementation examples and integration patterns, see the <a href="../quick-start/">Quick Start</a> guide.</p>
<hr />
<p><em>This reference covers all 50+ HACS tools with real examples and outputs. For the latest tool additions, check the registry with <code>get_all_tools()</code>.</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>