
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../api-reference/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>Quick Start - HACS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hacs-quick-start-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HACS" class="md-header__button md-logo" aria-label="HACS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HACS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick Start
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HACS" class="md-nav__button md-logo" aria-label="HACS" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HACS
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-minimal-inprocess-example" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Minimal in‑process example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-add-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Add capabilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Add capabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#llm-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      LLM extraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production-extraction-extractionrunner" class="md-nav__link">
    <span class="md-ellipsis">
      Production extraction (ExtractionRunner)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onestep-typed-multiresource-extraction-no-stage1-gating" class="md-nav__link">
    <span class="md-ellipsis">
      One‑step typed multi‑resource extraction (no Stage‑1 gating)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#facade-based-extraction-focused-subsets" class="md-nav__link">
    <span class="md-ellipsis">
      Facade-based extraction (focused subsets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-hacstools" class="md-nav__link">
    <span class="md-ellipsis">
      CLI (hacs‑tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Database persistence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patient" class="md-nav__link">
    <span class="md-ellipsis">
      Patient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-integrate" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Integrate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-built" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 What You Built
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-tool-execution-examples" class="md-nav__link">
    <span class="md-ellipsis">
      📊 Real Tool Execution Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📊 Real Tool Execution Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modeling-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Modeling Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#facade-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      Facade Extraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Next Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#production-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Production Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-setup-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      Database setup &amp; migrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../hacs-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HACS Tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    How-to
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            How-to
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/authenticate_actor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authenticate an Actor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/connect_postgres/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect to database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/supabase_connection_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connect to Supabase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/extract_annotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generate structured data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/grounded_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extract citations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/facade_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Facade-based extraction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/validate_hacs_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validate HACS models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/validation_results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation results
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/visualize_resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Visualize data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/persist_resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Persist Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/use_register_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Use & Register Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/create_langgraph_agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create a simple agent (LangGraph)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/creating_private_registry/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a private Registry
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to/manage_context_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manage context with agentic tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/complete_context_engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Complete Context Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/medication_extraction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Medication Extraction
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gallery/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gallery
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-1-minimal-inprocess-example" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Minimal in‑process example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-add-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Add capabilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Add capabilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#llm-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      LLM extraction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#production-extraction-extractionrunner" class="md-nav__link">
    <span class="md-ellipsis">
      Production extraction (ExtractionRunner)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#onestep-typed-multiresource-extraction-no-stage1-gating" class="md-nav__link">
    <span class="md-ellipsis">
      One‑step typed multi‑resource extraction (no Stage‑1 gating)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#facade-based-extraction-focused-subsets" class="md-nav__link">
    <span class="md-ellipsis">
      Facade-based extraction (focused subsets)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-hacstools" class="md-nav__link">
    <span class="md-ellipsis">
      CLI (hacs‑tools)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Database persistence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualization" class="md-nav__link">
    <span class="md-ellipsis">
      Visualization
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#patient" class="md-nav__link">
    <span class="md-ellipsis">
      Patient
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-integrate" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Integrate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-built" class="md-nav__link">
    <span class="md-ellipsis">
      🎯 What You Built
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-tool-execution-examples" class="md-nav__link">
    <span class="md-ellipsis">
      📊 Real Tool Execution Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📊 Real Tool Execution Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modeling-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Modeling Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-tools" class="md-nav__link">
    <span class="md-ellipsis">
      Agent Tools
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#facade-extraction" class="md-nav__link">
    <span class="md-ellipsis">
      Facade Extraction
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Next Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#production-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Production Workflows
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-setup-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      Database setup &amp; migrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="hacs-quick-start-guide">HACS Quick Start Guide<a class="headerlink" href="#hacs-quick-start-guide" title="Permanent link">&para;</a></h1>
<p><strong>Build a Healthcare Document Processing Pipeline in 5 Minutes</strong></p>
<p>Extract structured healthcare data from clinical text and persist to database with proper actor security.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Python 3.11+</strong></li>
<li><strong>Docker</strong> (for database)</li>
</ul>
<hr />
<h2 id="step-1-minimal-inprocess-example">Step 1: Minimal in‑process example<a class="headerlink" href="#step-1-minimal-inprocess-example" title="Permanent link">&para;</a></h2>
<p>Install HACS first (see home page “Install HACS (beta)”). Then run this minimal in‑process example using HACS models. HACS models are healthcare‑native, FHIR‑aligned typed data structures that form the canonical layer for agents, tools, and persistence. This first step introduces the core types and how resources are constructed and reasoned over in‑process.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Patient</span><span class="p">,</span> <span class="n">Observation</span><span class="p">,</span> <span class="n">CodeableConcept</span><span class="p">,</span> <span class="n">Quantity</span><span class="p">,</span> <span class="n">Actor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ObservationStatus</span>

<span class="c1"># Provider (in‑process only)</span>
<span class="n">doctor</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dr. Sarah Chen&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="s2">&quot;physician&quot;</span><span class="p">)</span>

<span class="c1"># Typed resources (no DB, no LLM)</span>
<span class="n">patient</span> <span class="o">=</span> <span class="n">Patient</span><span class="p">(</span><span class="n">full_name</span><span class="o">=</span><span class="s2">&quot;Maria Rodriguez&quot;</span><span class="p">,</span> <span class="n">birth_date</span><span class="o">=</span><span class="s2">&quot;1985-03-15&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s2">&quot;female&quot;</span><span class="p">)</span>
<span class="n">bp</span> <span class="o">=</span> <span class="n">Observation</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">ObservationStatus</span><span class="o">.</span><span class="n">FINAL</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">CodeableConcept</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Blood Pressure&quot;</span><span class="p">),</span> <span class="n">value_quantity</span><span class="o">=</span><span class="n">Quantity</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">128.0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;mmHg&quot;</span><span class="p">),</span> <span class="n">subject</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Patient/</span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Minimal example ready:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  Actor:&quot;</span><span class="p">,</span> <span class="n">doctor</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">doctor</span><span class="o">.</span><span class="n">role</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  Patient:&quot;</span><span class="p">,</span> <span class="n">patient</span><span class="o">.</span><span class="n">full_name</span><span class="p">,</span> <span class="n">patient</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  BP:&quot;</span><span class="p">,</span> <span class="n">bp</span><span class="o">.</span><span class="n">value_quantity</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">bp</span><span class="o">.</span><span class="n">value_quantity</span><span class="o">.</span><span class="n">unit</span><span class="p">)</span>

<span class="c1"># Always visualize structured records</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">resource_to_markdown</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Patient record:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">resource_to_markdown</span><span class="p">(</span><span class="n">patient</span><span class="p">,</span> <span class="n">include_json</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><pre><span></span><code>✅ Minimal example ready:
  Actor: Dr. Sarah Chen physician
  Patient: Maria Rodriguez patient-e187c277
  BP: 128.0 mmHg

Patient record:
#### Patient

| Field | Value |
|---|---|
| resource_type | Patient |
| id | patient-e187c277 |
| status | active |
| full_name | Maria Rodriguez |
| gender | female |
| birth_date | 1985-03-15 |
| created_at | 2025-08-26T15:09:06.443077Z |
| updated_at | 2025-08-26T15:09:06.443078Z |
</code></pre></div></p>
<p><em>This validates your local environment and demonstrates HACS typed models in‑process.</em></p>
<hr />
<h2 id="step-2-add-capabilities">Step 2: Add capabilities<a class="headerlink" href="#step-2-add-capabilities" title="Permanent link">&para;</a></h2>
<p>Add structured extraction and PostgreSQL persistence to the minimal setup.</p>
<p>The following snippets illustrate common extensions to the minimal setup.</p>
<h3 id="llm-extraction">LLM extraction<a class="headerlink" href="#llm-extraction" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Prereq: uv pip install -U hacs-utils[langchain]; set OPENAI_API_KEY</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Patient</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">to_markdown</span>

<span class="c1"># Simulated extraction result (LLM extraction may require additional prompt tuning)</span>
<span class="n">PatientInfo</span> <span class="o">=</span> <span class="n">Patient</span><span class="o">.</span><span class="n">pick</span><span class="p">(</span><span class="s2">&quot;full_name&quot;</span><span class="p">,</span> <span class="s2">&quot;birth_date&quot;</span><span class="p">,</span> <span class="s2">&quot;gender&quot;</span><span class="p">)</span>
<span class="n">extracted_patient</span> <span class="o">=</span> <span class="n">PatientInfo</span><span class="p">(</span>
    <span class="n">resource_type</span><span class="o">=</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span>
    <span class="n">full_name</span><span class="o">=</span><span class="s2">&quot;Maria Rodriguez&quot;</span><span class="p">,</span> 
    <span class="n">birth_date</span><span class="o">=</span><span class="s2">&quot;1985-03-15&quot;</span><span class="p">,</span> 
    <span class="n">gender</span><span class="o">=</span><span class="s2">&quot;female&quot;</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Extracted demographics:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">to_markdown</span><span class="p">(</span><span class="n">extracted_patient</span><span class="p">,</span> <span class="n">include_json</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><pre><span></span><code>Extracted demographics:
#### Patient

| Field | Value |
|---|---|
| resource_type | Patient |
| full_name | Maria Rodriguez |
| gender | female |
| birth_date | 1985-03-15 |
| created_at | 2025-08-26T16:24:08.222005Z |
| updated_at | 2025-08-26T16:24:08.222004Z |
</code></pre></div></p>
<p>See <code>docs/tutorials/medication_extraction.md</code> and API reference (structured extraction).</p>
<h3 id="production-extraction-extractionrunner">Production extraction (ExtractionRunner)<a class="headerlink" href="#production-extraction-extractionrunner" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Prereq: uv pip install -U hacs-utils[langchain]; set OPENAI_API_KEY</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.extraction</span><span class="w"> </span><span class="kn">import</span> <span class="n">ExtractionRunner</span><span class="p">,</span> <span class="n">ExtractionConfig</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_extraction</span><span class="p">():</span>
    <span class="n">llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">ExtractionConfig</span><span class="p">(</span><span class="n">concurrency_limit</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">window_timeout_sec</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">total_timeout_sec</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span> <span class="n">max_extractable_fields</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">runner</span> <span class="o">=</span> <span class="n">ExtractionRunner</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

    <span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;examples/data/pt_transcricao_exemplo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">extract_document</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">source_text</span><span class="o">=</span><span class="n">text</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">({</span><span class="n">rtype</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="k">for</span> <span class="n">rtype</span><span class="p">,</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
    <span class="k">return</span> <span class="n">results</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_extraction</span><span class="p">())</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><pre><span></span><code>{&#39;Patient&#39;: 0, &#39;Condition&#39;: 1, &#39;FamilyMemberHistory&#39;: 0, &#39;Observation&#39;: 0, &#39;MedicationStatement&#39;: 0, &#39;ServiceRequest&#39;: 0, &#39;Immunization&#39;: 0, &#39;Practitioner&#39;: 0, &#39;Organization&#39;: 0, &#39;Procedure&#39;: 0, &#39;DiagnosticReport&#39;: 0}
</code></pre></div></p>
<h3 id="onestep-typed-multiresource-extraction-no-stage1-gating">One‑step typed multi‑resource extraction (no Stage‑1 gating)<a class="headerlink" href="#onestep-typed-multiresource-extraction-no-stage1-gating" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.extraction</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_citations_multi</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Observation</span><span class="p">,</span> <span class="n">Patient</span><span class="p">,</span> <span class="n">MedicationStatement</span><span class="p">,</span> <span class="n">ServiceRequest</span><span class="p">,</span> <span class="n">DiagnosticReport</span><span class="p">,</span> <span class="n">Condition</span><span class="p">,</span> <span class="n">Immunization</span><span class="p">,</span> <span class="n">Procedure</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_multi_extraction</span><span class="p">():</span>
    <span class="n">llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;examples/data/pt_transcricao_exemplo.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">Observation</span><span class="p">,</span> <span class="n">Patient</span><span class="p">,</span> <span class="n">MedicationStatement</span><span class="p">,</span> <span class="n">ServiceRequest</span><span class="p">,</span> <span class="n">DiagnosticReport</span><span class="p">,</span> <span class="n">Condition</span><span class="p">,</span> <span class="n">Immunization</span><span class="p">,</span> <span class="n">Procedure</span><span class="p">]</span>
    <span class="n">results</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extract_citations_multi</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">source_text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">resource_models</span><span class="o">=</span><span class="n">models</span><span class="p">,</span> <span class="n">max_items_per_type</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">({</span><span class="n">rtype</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="k">for</span> <span class="n">rtype</span><span class="p">,</span> <span class="n">items</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>
    <span class="k">return</span> <span class="n">results</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_multi_extraction</span><span class="p">())</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><pre><span></span><code>{&#39;Observation&#39;: 5, &#39;Patient&#39;: 0, &#39;MedicationStatement&#39;: 0, &#39;ServiceRequest&#39;: 0, &#39;DiagnosticReport&#39;: 2, &#39;Condition&#39;: 2, &#39;Immunization&#39;: 0, &#39;Procedure&#39;: 1}
</code></pre></div></p>
<h3 id="facade-based-extraction-focused-subsets">Facade-based extraction (focused subsets)<a class="headerlink" href="#facade-based-extraction-focused-subsets" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Prereq: uv pip install -U hacs-utils[langchain]; set OPENAI_API_KEY</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">langchain_openai</span><span class="w"> </span><span class="kn">import</span> <span class="n">ChatOpenAI</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.extraction.api</span><span class="w"> </span><span class="kn">import</span> <span class="n">extract_facade</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Patient</span><span class="p">,</span> <span class="n">Condition</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run_facade_extraction</span><span class="p">():</span>
    <span class="n">llm</span> <span class="o">=</span> <span class="n">ChatOpenAI</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="c1"># Extract only patient demographics</span>
    <span class="n">patient</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extract_facade</span><span class="p">(</span>
        <span class="n">llm_provider</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
        <span class="n">model_cls</span><span class="o">=</span><span class="n">Patient</span><span class="p">,</span>
        <span class="n">facade_key</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
        <span class="n">source_text</span><span class="o">=</span><span class="s2">&quot;João Silva, masculino, 45 anos, hipertenso&quot;</span>
    <span class="p">)</span>

    <span class="c1"># Extract only condition summary  </span>
    <span class="n">condition</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extract_facade</span><span class="p">(</span>
        <span class="n">llm_provider</span><span class="o">=</span><span class="n">llm</span><span class="p">,</span>
        <span class="n">model_cls</span><span class="o">=</span><span class="n">Condition</span><span class="p">,</span>
        <span class="n">facade_key</span><span class="o">=</span><span class="s2">&quot;summary&quot;</span><span class="p">,</span> 
        <span class="n">source_text</span><span class="o">=</span><span class="s2">&quot;João Silva, masculino, 45 anos, hipertenso&quot;</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">patient</span><span class="p">,</span> <span class="n">condition</span>

<span class="n">patient</span><span class="p">,</span> <span class="n">condition</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run_facade_extraction</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Patient: </span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">full_name</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">gender</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Condition: </span><span class="si">{</span><span class="n">condition</span><span class="o">.</span><span class="n">code</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p><strong>Output:</strong>
<div class="highlight"><pre><span></span><code>Patient: João Silva, male, 45
Condition: {&#39;text&#39;: &#39;hipertenso&#39;}
</code></pre></div></p>
<p>Available facades (actual):
- Patient: <code>info</code>, <code>address</code>, <code>telecom</code>, <code>identifiers</code>, <code>contacts</code>
- Condition: <code>summary</code>, <code>timing</code>, <code>body_site</code>, <code>evidence</code>
- Observation: <code>core</code>, <code>components</code>, <code>method_body_site</code>
- MedicationRequest: <code>medication</code>, <code>dosage</code>, <code>intent</code>, <code>authorship</code>
- Procedure: <code>core</code>, <code>body_site</code>, <code>outcome</code>
- Encounter: <code>basic</code>, <code>timing</code>, <code>participants</code>, <code>clinical</code>, <code>complete</code>
- Organization: <code>info</code>, <code>contact</code>, <code>hierarchy</code>, <code>identity</code></p>
<p>See <a href="../how-to/facade_extraction/">Facade Guide</a>.</p>
<h3 id="cli-hacstools">CLI (hacs‑tools)<a class="headerlink" href="#cli-hacstools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Prereq: uv pip install -e packages/hacs-tools</span>
hacs-tools<span class="w"> </span>extract<span class="w"> </span>--model<span class="w"> </span>gpt-4o-mini<span class="w"> </span>--transcript<span class="w"> </span>examples/data/pt_transcricao_exemplo.txt<span class="w"> </span>--out-dir<span class="w"> </span>./outputs
hacs-tools<span class="w"> </span>registry<span class="w"> </span>--list-extractables
</code></pre></div>
<p>Example output:</p>
<div class="highlight"><pre><span></span><code>Extracting from transcript (1834 chars) using gpt-4o-mini

✓ Extraction completed successfully!
  Total records: 8
  Resource types: [&#39;Observation&#39;, &#39;Condition&#39;, &#39;Procedure&#39;]
  Output: outputs/extraction_results.json
  Duration: 12.83s
  Citations found: 10
</code></pre></div>
<h3 id="database-persistence">Database persistence<a class="headerlink" href="#database-persistence" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot; Prereq: uv pip install -U hacs-persistence; set DATABASE_URL &quot;&quot;&quot;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="w"> </span><span class="nn">asyncio</span><span class="o">,</span><span class="w"> </span><span class="nn">logging</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_persistence</span><span class="w"> </span><span class="kn">import</span> <span class="n">HACSConnectionFactory</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">Actor</span><span class="p">,</span> <span class="n">ActorRole</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Patient</span><span class="p">,</span> <span class="n">Observation</span><span class="p">,</span> <span class="n">CodeableConcept</span><span class="p">,</span> <span class="n">Quantity</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models.types</span><span class="w"> </span><span class="kn">import</span> <span class="n">ObservationStatus</span>

<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%(name)s</span><span class="s2">:</span><span class="si">%(levelname)s</span><span class="s2">:</span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span><span class="p">,</span> <span class="n">dotenv_values</span>
<span class="n">load_dotenv</span><span class="p">()</span>
<span class="n">kv</span> <span class="o">=</span> <span class="n">dotenv_values</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;DATABASE_URL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kv</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DATABASE_URL&quot;</span><span class="p">,</span> <span class="s2">&quot;postgresql://hacs:hacs_dev@localhost:5432/hacs&quot;</span><span class="p">)</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">HACSConnectionFactory</span><span class="o">.</span><span class="n">get_adapter</span><span class="p">(</span><span class="n">auto_migrate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">doctor</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Dr. Sarah Chen&quot;</span><span class="p">,</span> <span class="n">role</span><span class="o">=</span><span class="n">ActorRole</span><span class="o">.</span><span class="n">PHYSICIAN</span><span class="p">,</span> <span class="n">organization</span><span class="o">=</span><span class="s2">&quot;General Hospital&quot;</span><span class="p">)</span>
<span class="n">patient</span> <span class="o">=</span> <span class="n">Patient</span><span class="p">(</span><span class="n">full_name</span><span class="o">=</span><span class="s2">&quot;Maria Rodriguez&quot;</span><span class="p">,</span> <span class="n">birth_date</span><span class="o">=</span><span class="s2">&quot;1985-03-15&quot;</span><span class="p">,</span> <span class="n">gender</span><span class="o">=</span><span class="s2">&quot;female&quot;</span><span class="p">)</span>
<span class="n">bp_obs</span> <span class="o">=</span> <span class="n">Observation</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">ObservationStatus</span><span class="o">.</span><span class="n">FINAL</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">CodeableConcept</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Blood Pressure&quot;</span><span class="p">),</span> <span class="n">value_quantity</span><span class="o">=</span><span class="n">Quantity</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">128.0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;mmHg&quot;</span><span class="p">),</span> <span class="n">subject</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Patient/</span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">hr_obs</span> <span class="o">=</span> <span class="n">Observation</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">ObservationStatus</span><span class="o">.</span><span class="n">FINAL</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="n">CodeableConcept</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Heart Rate&quot;</span><span class="p">),</span> <span class="n">value_quantity</span><span class="o">=</span><span class="n">Quantity</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">72.0</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s2">&quot;bpm&quot;</span><span class="p">),</span> <span class="n">subject</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Patient/</span><span class="si">{</span><span class="n">patient</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">():</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">adapter</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">patient</span><span class="p">,</span> <span class="n">doctor</span><span class="p">)</span>
    <span class="n">bp_obs</span><span class="o">.</span><span class="n">subject</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Patient/</span><span class="si">{</span><span class="n">sp</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">hr_obs</span><span class="o">.</span><span class="n">subject</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Patient/</span><span class="si">{</span><span class="n">sp</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">await</span> <span class="n">adapter</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">bp_obs</span><span class="p">,</span> <span class="n">doctor</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">adapter</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">hr_obs</span><span class="p">,</span> <span class="n">doctor</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;✅ Persisted Patient and Observations&quot;</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">run</span><span class="p">())</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>INFO:hacs_persistence.adapter:PostgreSQLAdapter (Async) configured for schema &#39;public&#39;
INFO:hacs_persistence.connection_factory:Created database adapter for schema &#39;public&#39;
INFO:hacs_persistence.adapter:HACS resources table checked/created successfully
INFO:hacs_persistence.adapter:Async connection pool established and tables initialized.
INFO:hacs_persistence.adapter:Resource Patient/patient-aae1b354 saved successfully
INFO:hacs_persistence.adapter:Resource Observation/observation-f3a4d92e saved successfully
INFO:hacs_persistence.adapter:Resource Observation/observation-1d79fbd7 saved successfully
✅ Persisted Patient and Observations
</code></pre></div>
<h3 id="visualization">Visualization<a class="headerlink" href="#visualization" title="Permanent link">&para;</a></h3>
<p>Render compact HTML cards for resources and highlight extractions in notebooks.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Prereq: uv pip install -U hacs-utils</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.visualization</span><span class="w"> </span><span class="kn">import</span> <span class="n">visualize_resource</span><span class="p">,</span> <span class="n">visualize_annotations</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">AnnotatedDocument</span><span class="p">,</span> <span class="n">Extraction</span><span class="p">,</span> <span class="n">CharInterval</span>

<span class="n">visualize_resource</span><span class="p">(</span><span class="n">patient</span><span class="p">)</span>

<span class="n">doc</span> <span class="o">=</span> <span class="n">AnnotatedDocument</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;BP 128/82, HR 72&quot;</span><span class="p">,</span>
    <span class="n">extractions</span><span class="o">=</span><span class="p">[</span>
        <span class="n">Extraction</span><span class="p">(</span>
            <span class="n">extraction_class</span><span class="o">=</span><span class="s2">&quot;blood_pressure&quot;</span><span class="p">,</span>
            <span class="n">extraction_text</span><span class="o">=</span><span class="s2">&quot;128/82&quot;</span><span class="p">,</span>
            <span class="n">char_interval</span><span class="o">=</span><span class="n">CharInterval</span><span class="p">(</span><span class="n">start_pos</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">end_pos</span><span class="o">=</span><span class="mi">9</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">],</span>
<span class="p">)</span>
<span class="n">visualize_annotations</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>

<span class="c1"># For static docs (Markdown), use:</span>
<span class="c1">#   from hacs_utils.visualization import resource_to_markdown, annotations_to_markdown</span>
<span class="c1"># See rendered example below.</span>
</code></pre></div>
<!-- removed noisy HTML-type/length logs -->

<p>Rendered (Markdown):</p>
<h3 id="patient">Patient<a class="headerlink" href="#patient" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>resource_type</td>
<td>Patient</td>
</tr>
<tr>
<td>id</td>
<td>patient-5a82a2cb</td>
</tr>
<tr>
<td>status</td>
<td>active</td>
</tr>
<tr>
<td>created_at</td>
<td>2025-08-17T23:33:58.656558Z</td>
</tr>
<tr>
<td>updated_at</td>
<td>2025-08-17T23:33:58.656563Z</td>
</tr>
</tbody>
</table>
<p>Annotations preview:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Span</th>
<th>Snippet</th>
</tr>
</thead>
<tbody>
<tr>
<td>Blood Pressure</td>
<td>[3-9]</td>
<td>… BP  <strong>128/82</strong> , HR 72 …</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="step-3-integrate">Step 3: Integrate<a class="headerlink" href="#step-3-integrate" title="Permanent link">&para;</a></h2>
<p>Bind HACS tools to an agent.</p>
<p>You can now bind HACS tools to an agent. Refer to the API reference and tools guide for details.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">langgraph.prebuilt</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_react_agent</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">hacs_utils.integrations.langchain.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">langchain_tools</span>

<span class="n">tools</span> <span class="o">=</span> <span class="n">langchain_tools</span><span class="p">()</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">create_react_agent</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="s2">&quot;anthropic:claude-3-7-sonnet-latest&quot;</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">tools</span><span class="p">,</span> <span class="n">prompt</span><span class="o">=</span><span class="s2">&quot;You are a healthcare assistant using HACS tools.&quot;</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="what-you-built">🎯 What You Built<a class="headerlink" href="#what-you-built" title="Permanent link">&para;</a></h2>
<p>✅ <strong>Healthcare Document Processor</strong> - Extract structured data from clinical text<br />
✅ <strong>FHIR-Compliant Database</strong> - PostgreSQL with healthcare schemas<br />
✅ <strong>Actor-Based Security</strong> - Role-based permissions for providers<br />
✅ <strong>AI-Ready Pipeline</strong> - Integrated with LangGraph and 20+ healthcare tools  </p>
<h2 id="real-tool-execution-examples">📊 Real Tool Execution Examples<a class="headerlink" href="#real-tool-execution-examples" title="Permanent link">&para;</a></h2>
<p>Here are actual outputs from validated HACS tools running with <code>gpt-4o-mini</code>:</p>
<h3 id="modeling-tools">Modeling Tools<a class="headerlink" href="#modeling-tools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># pin_resource: Create validated Patient resource</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pin_resource</span><span class="p">(</span><span class="s2">&quot;Patient&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="s2">&quot;full_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Jane Doe&quot;</span><span class="p">,</span> <span class="s2">&quot;birth_date&quot;</span><span class="p">:</span> <span class="s2">&quot;1990-01-01&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;gender&quot;</span><span class="p">:</span> <span class="s2">&quot;female&quot;</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">:</span> <span class="kc">True</span>
<span class="p">})</span>
<span class="c1"># ✅ Success: &quot;Successfully instantiated Patient&quot;</span>
<span class="c1"># 🆔 ID: &quot;patient-e240e20d&quot;</span>
</code></pre></div>
<h3 id="agent-tools">Agent Tools<a class="headerlink" href="#agent-tools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># write_scratchpad: Record clinical observations</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">write_scratchpad</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Patient reports 7/10 chest pain, onset 2 hours ago...&quot;</span><span class="p">,</span>
    <span class="n">entry_type</span><span class="o">=</span><span class="s2">&quot;observation&quot;</span><span class="p">,</span> <span class="n">session_id</span><span class="o">=</span><span class="s2">&quot;visit_20240115&quot;</span>
<span class="p">)</span>
<span class="c1"># ✅ Success: &quot;Successfully wrote to scratchpad&quot;</span>
<span class="c1"># 🆔 Entry ID: &quot;scratchpadentry-b99d1846&quot;</span>

<span class="c1"># create_todo: Create urgent clinical tasks</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">create_todo</span><span class="p">(</span>
    <span class="n">content</span><span class="o">=</span><span class="s2">&quot;Order cardiac enzymes and chest X-ray for patient with chest pain&quot;</span><span class="p">,</span>
    <span class="n">priority</span><span class="o">=</span><span class="s2">&quot;high&quot;</span><span class="p">,</span> <span class="n">clinical_urgency</span><span class="o">=</span><span class="s2">&quot;urgent&quot;</span>
<span class="p">)</span>
<span class="c1"># ✅ Success: &quot;Successfully created todo item&quot;  </span>
<span class="c1"># 🆔 Todo ID: &quot;agenttodo-4552c76f&quot;</span>
</code></pre></div>
<h3 id="facade-extraction">Facade Extraction<a class="headerlink" href="#facade-extraction" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># extract_facade: Extract Patient demographics</span>
<span class="n">patient</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extract_facade</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">Patient</span><span class="p">,</span> <span class="s2">&quot;info&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;João Silva, masculino, 45 anos, hipertenso&quot;</span><span class="p">)</span>
<span class="c1"># ✅ Name: &quot;João Silva&quot;, Gender: &quot;male&quot;, Age: 45</span>

<span class="c1"># extract_facade: Extract Condition details</span>
<span class="n">condition</span> <span class="o">=</span> <span class="k">await</span> <span class="n">extract_facade</span><span class="p">(</span><span class="n">llm</span><span class="p">,</span> <span class="n">Condition</span><span class="p">,</span> <span class="s2">&quot;summary&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Paciente apresenta quadro de hipertensão arterial não controlada&quot;</span><span class="p">)</span>
<span class="c1"># ✅ Code: &quot;hipertensão arterial não controlada&quot;</span>
<span class="c1"># ✅ Status: &quot;active&quot;, Verification: &quot;confirmed&quot;</span>
</code></pre></div>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<h3 id="production-workflows">Production Workflows<a class="headerlink" href="#production-workflows" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><a href="../tutorials/complete_context_engineering/">Complete Context Engineering</a></strong> - All 4 context strategies</li>
<li><strong><a href="../tutorials/medication_extraction/">Medication Extraction</a></strong> - Extract medications from clinical notes</li>
<li><strong><a href="../how-to/facade_extraction/">Facade-Based Extraction</a></strong> - Focused extraction with predefined field subsets</li>
</ul>
<h3 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><a href="../api-reference/">API Reference</a></strong> - Complete API documentation</li>
<li><strong><a href="../hacs-tools/">HACS Tools</a></strong> - 20+ healthcare tools reference</li>
<li><strong><a href="../testing/">Testing Guide</a></strong> - Testing and validation</li>
</ul>
<h3 id="database-setup-migrations">Database setup &amp; migrations<a class="headerlink" href="#database-setup-migrations" title="Permanent link">&para;</a></h3>
<ul>
<li><code>packages/hacs-persistence/README.md</code> — connection strings, schema overview, async migrations (<code>run_migration()</code>), guidance for <code>auto_migrate=True</code> in quick starts vs. explicit migrations in production</li>
<li><code>docs/index.md</code> — HACS architecture (models, tools, persistence, integrations) and context‑engineering vision (Write, Select, Compress, Isolate)</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>